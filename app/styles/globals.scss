@tailwind base;
@tailwind components;
@tailwind utilities;

@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap");

// Variables
$navy-500: #0f172a;
$navy-900: #020a11;
$slate-200: #e2e8f0;
$slate-300: #cbd5e1;
$slate-400: #94a3b8;
$slate-500: #64748b;
$slate-600: #475569;
$slate-700: #334155;
$slate-800: #1e293b;
$cyan-400: #5eead4;

// Base Styles
@layer base {
  :root {
    // iOS Safe Area 대응
    --safe-area-inset-top: env(safe-area-inset-top, 0px);
    --safe-area-inset-right: env(safe-area-inset-right, 0px);
    --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-inset-left: env(safe-area-inset-left, 0px);
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-navy-500 text-slate-400 antialiased;
    font-family: "Inter", sans-serif;
  }

  // Material Symbols
  .material-symbols-outlined {
    font-variation-settings: "FILL" 0, "wght" 300, "GRAD" 0, "opsz" 20;
    user-select: none;
    vertical-align: middle;
  }
}

// Utilities
@layer utilities {
  // Spotlight styles are now handled inline for better performance
}

// Navigation Styles
.nav-indicator {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.nav-text {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

// Social Links
.social-links {
  li {
    a {
      transition: all 0.3s ease;

      &:hover {
        color: $slate-200;
      }
    }
  }
}

// Animations
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.3s ease-out;
}

@keyframes slideUpFromBottom {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes bounce {
  0%,
  60%,
  100% {
    transform: translateY(0);
  }
  30% {
    transform: translateY(-10px);
  }
}

.typing-dot {
  animation: bounce 1.4s infinite;

  &:nth-child(2) {
    animation-delay: 0.2s;
  }

  &:nth-child(3) {
    animation-delay: 0.4s;
  }
}

// Selection
::selection {
  background: rgb(94, 234, 212);
  color: #020a11;
}

::-moz-selection {
  background: rgb(94, 234, 212);
  color: #020a11;
}

// Smooth Transitions
* {
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

// Responsive Utilities
@media (max-width: 768px) {
  .mobile-hidden {
    display: none;
  }
}

@media (min-width: 1024px) {
  .desktop-sticky {
    position: sticky;
    top: 0;
    display: flex;
    max-height: 100vh;
    width: 50%;
    flex-direction: column;
    justify-content: space-between;
    padding-top: 6rem;
    padding-bottom: 6rem;
  }

  .desktop-content {
    width: 50%;
    padding-top: 6rem;
    padding-bottom: 6rem;
  }
}

// Hidden Scrollbar for Chat Messages
.chat-messages {
  scrollbar-width: none; // Firefox
  -ms-overflow-style: none; // IE and Edge

  &::-webkit-scrollbar {
    display: none; // Chrome, Safari, Opera
  }
}

// Markdown Styles for Chat
.markdown-content {
  // Headings
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply text-slate-200 font-semibold;
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    line-height: 1.3;

    &:first-child {
      margin-top: 0;
    }
  }

  h1 {
    @apply text-xl;
  }
  h2 {
    @apply text-lg;
  }
  h3 {
    @apply text-base;
  }

  // Paragraphs
  p {
    margin: 0.75em 0;
    line-height: 1.7;

    &:first-child {
      margin-top: 0;
    }
    &:last-child {
      margin-bottom: 0;
    }
  }

  // Lists
  ul,
  ol {
    margin: 0.75rem 0;
    padding-left: 0;
    list-style: none;

    li {
      position: relative;
      padding-left: 1.5rem;
      margin: 0.5em 0;
      line-height: 1.7;

      &::before {
        position: absolute;
        left: 0;
        top: 0.5em;
      }
    }
  }

  ul {
    li::before {
      content: "•";
      color: $slate-400;
      font-weight: bold;
    }
  }

  ol {
    counter-reset: item;

    li {
      counter-increment: item;

      &::before {
        content: counter(item) ".";
        color: $slate-400;
        font-size: 0.875em;
      }
    }
  }

  // Links
  a {
    color: rgb(94, 234, 212);
    text-decoration: underline;
    text-underline-offset: 2px;
    transition: color 0.2s ease;

    &:hover {
      color: rgba(94, 234, 212, 0.8);
    }
  }

  // Code Blocks
  pre {
    @apply bg-slate-900/50 border border-slate-700/30 rounded-lg;
    margin: 1em 0;
    padding: 1em;
    overflow-x: auto;

    code {
      @apply text-slate-300 text-xs;
      background: transparent;
      padding: 0;
      border-radius: 0;
      font-family: "Consolas", "Monaco", "Courier New", monospace;
      line-height: 1.6;
    }
  }

  // Inline Code
  code {
    @apply bg-slate-700/40 px-1.5 py-0.5 rounded text-xs;
    color: rgb(94, 234, 212);
    font-family: "Consolas", "Monaco", "Courier New", monospace;
  }

  // Blockquotes (경력 정보 박스용)
  blockquote {
    @apply bg-slate-800/50 border border-slate-700/50 rounded px-4 py-3 my-3;
    font-style: normal;
    line-height: 1.7;

    p {
      margin: 0.5em 0;
      line-height: 1.7;

      &:last-child {
        margin-bottom: 0;
      }

      &:first-child {
        margin-top: 0;
      }
    }

    // 리스트가 있는 경우
    ul {
      margin: 0.5em 0;
      padding-left: 0;

      li {
        @apply text-slate-400;
        font-size: 0.875em;
        margin: 0.25em 0;
        padding-left: 1.25rem;
        line-height: 1.6;

        &::before {
          content: "•";
          color: $slate-500;
          font-size: 0.75em;
        }
      }
    }
  }

  // Horizontal Rule
  hr {
    @apply border-slate-700 my-6;
  }

  // Tables
  table {
    @apply border-collapse w-full my-4;

    th,
    td {
      @apply border border-slate-700 px-3 py-2 text-left;
    }

    th {
      @apply bg-slate-800/50 text-slate-200 font-semibold;
    }

    td {
      @apply text-slate-300;
    }
  }

  // Strong/Bold
  strong {
    @apply text-slate-200 font-semibold;
  }

  // Emphasis/Italic
  em {
    @apply text-slate-300;
    font-style: italic;
  }
}
